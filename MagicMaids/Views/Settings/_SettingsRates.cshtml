<div ng-controller="RatesController as vmRates" class="container-fluid">
	<div class="col-xs-12" style="padding-bottom: 5px">
		<button type="button" class="btn btn-primary pull-right" ng-click="openRatesPopupForm()" ng-disabled="vmRates.enableAdd">
			<em class="fa fa-plus-circle fa-fw mr-sm"></em>New Rate
		</button>
	</div>
	<div class="table-responsive col-xs-12">
		<table class="table table-bordered table-hover bg-white">
	      	<tr style="font-weight: bold">
	         	<td class="text-center">Rate Code</td>
	         	<td class="text-center">Amount</td>
	         	<td class="text-center">Applied To</td>
	         	<td class="text-center">Active</td>
				<td style="width:10%" class="text-center"></td>
	      	</tr>
			<tr ng-hide="vmRates.listOfRates.length">
				<td colspan="8" class="EmptyResults">No rate found.  <a href="" ng-click="openRatesPopupForm()">Please add</a> a new rate.</td>
			</tr>
			<tr ng-repeat="item in vmRates.listOfRates">
				<td>
	            	{{ item.RateCode }}
	         	</td>
				<td>
					{{ item.RateAmount | currency }}
				</td>
				<td>
					<div ng-bind-html="item.RateApplicationHtml | trustAsHtml"></div>
				</td>
				<td align="center">
					<label class="switch">
	                 	<input type="checkbox" ng-model="item.IsActive" checked="{{item.IsActive}}" ng-click="toggleRateState(item)"/>
	                 	<span></span>
	              	</label>
				</td>  
				<td style="white-space: nowrap">
					<button type="submit" ng-disabled="rowform.$waiting" title="Edit" class="btn btn-sm btn-info" ng-click="openRatesPopupForm(item)">
	                  <em class="fa fa-pencil"></em>
	               </button>
					<button  title="Delete" class="btn btn-sm btn-danger" ng-click="removeRate($index)">
		                  <em class="fa fa-trash"></em>
	               </button>
		         </td>
			</tr>
		</table>
	</div>
	<div class="form-group">
        <div class="col-xs-8"  style="padding-top: 10px">
        	<button type="submit" class="btn btn-default" ng-show="vmRates.selectedFranchise != null" ng-click="$state.go('app.settings_master_franchises')" ng-disabled="{{ form.franchiseSettings.submitted }}">Close</button>
        </div>
	    <div class="text-right col-xs-4">
		
		</div>		
    </div>	
</div>